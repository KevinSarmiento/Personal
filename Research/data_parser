import aguaclara as ac
from aguaclara.core.units import unit_registry as u
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
import os
from pathlib import Path
import math

def get_data_by_dates(path, dates, extension='.tsv'):
  """Extracts all data over one or more ProCoDA data files based on date. Valid
    only for files whose names are automatically generated by date, i.e. of the 
    form "datalog_M-D-YYYY".

    :param path: The path to the folder containing the ProCoDA data file(s)
    :type path: string
    :param dates: A single date or list of dates ordered in the way data was collected, formatted "M-D-YYYY"
    :type dates: string or string list
    :param extension: File extension of the data file(s). Defaults to '.tsv'
    :type extension: string, optional
    :return: A DataFrame of the continious data from one or more ProCoDA data files
    :rtype: DataFrame """

  data = ac.data_from_dates(path, dates, extension) #notes are removed in here

  if isinstance(dates, str):
    # notes = ac.notes(path)
    return data
  else:
    result = merge_raw_data(data, ignore_index=True, sort=False)
  return result
